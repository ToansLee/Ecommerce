@model List<ECommerceMVC.Models.Revenue>
@{
	ViewData["Title"] = "Doanh thu";
	Layout = "~/Views/Shared/_LayoutSeller.cshtml";
}

<div class="container-fluid py-5" style="background: linear-gradient(to bottom, #FFF8F0 0%, #FFFFFF 100%);">
	<div class="container py-5">
		<!-- Header -->
		<div class="row mb-4">
			<div class="col-12">
				<h2 style="color: #FF9500; font-weight: 700;">
					<i class="fas fa-chart-line me-2"></i>Doanh Thu - @ViewBag.RestaurantName
				</h2>
				<p style="color: #6C757D;">Theo dÃµi doanh thu tá»« cÃ¡c Ä‘Æ¡n hÃ ng</p>
			</div>
		</div>

		<!-- Summary Card -->
		<div class="row mb-5">
			<div class="col-md-6">
				<div class="card border-0 shadow-sm" style="border-radius: 15px; background: linear-gradient(135deg, #6f42c1 0%, #b537f2 100%);">
					<div class="card-body p-4 text-white">
						<h6 style="opacity: 0.9;">Tá»•ng doanh thu</h6>
						<h2 style="font-weight: 700;">@string.Format("{0:N0}Ä‘", ViewBag.TotalRevenue)</h2>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card border-0 shadow-sm" style="border-radius: 15px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
					<div class="card-body p-4 text-white">
						<h6 style="opacity: 0.9;">Tá»•ng sá»‘ giao dá»‹ch</h6>
						<h2 style="font-weight: 700;">@Model.Count</h2>
					</div>
				</div>
			</div>
		</div>

		<!-- Revenue Table -->
		<div class="card border-0 shadow-sm" style="border-radius: 15px;">
			<div class="card-body p-0">
				<div class="table-responsive">
					<table class="table table-hover mb-0">
						<thead style="background-color: #FFF4E6;">
							<tr>
								<th style="padding: 1rem; border: none;">MÃ£ Ä‘Æ¡n</th>
								<th style="padding: 1rem; border: none;">NgÃ y</th>
								<th style="padding: 1rem; border: none;">GiÃ¡ trá»‹ Ä‘Æ¡n</th>
								<th style="padding: 1rem; border: none;">Hoa há»“ng Admin</th>
								<th style="padding: 1rem; border: none;">Tráº¡ng thÃ¡i</th>
								<th style="padding: 1rem; border: none;">NgÃ y hoÃ n thÃ nh</th>
							</tr>
						</thead>
						<tbody>
							@if (Model.Count == 0)
							{
								<tr>
									<td colspan="6" class="text-center py-5">
										<i class="fas fa-inbox fa-3x mb-3" style="color: #FFE5CC;"></i>
										<p style="color: #6C757D;">ChÆ°a cÃ³ doanh thu nÃ o</p>
									</td>
								</tr>
							}
							else
							{
								@foreach (var revenue in Model)
								{
									<tr>
										<td style="padding: 1rem; vertical-align: middle;">
											<strong style="color: #FF9500;">#@revenue.OrderId</strong>
										</td>
										<td style="padding: 1rem; vertical-align: middle;">
											@revenue.CreatedAt.ToString("dd/MM/yyyy HH:mm")
										</td>
										<td style="padding: 1rem; vertical-align: middle;">
											<strong style="color: #2C3E50;">@string.Format("{0:N0}Ä‘", revenue.OrderAmount)</strong>
										</td>
										<td style="padding: 1rem; vertical-align: middle;">
											<span style="color: #dc3545;">-@string.Format("{0:N0}Ä‘", revenue.AdminCommission)</span>
										</td>
										<td style="padding: 1rem; vertical-align: middle;">
											@switch (revenue.Status)
											{
												case "Pending":
													<span class="badge bg-warning">Chá» xá»­ lÃ½</span>
													break;
												case "Completed":
													<span class="badge bg-success">HoÃ n thÃ nh</span>
													break;
												case "Cancelled":
													<span class="badge bg-danger">ÄÃ£ há»§y</span>
													break;
												default:
													<span class="badge bg-secondary">@revenue.Status</span>
													break;
											}
										</td>
										<td style="padding: 1rem; vertical-align: middle;">
											@if (revenue.CompletedAt.HasValue)
											{
												@revenue.CompletedAt.Value.ToString("dd/MM/yyyy HH:mm")
											}
											else
											{
												<span style="color: #6C757D;">-</span>
											}
										</td>
									</tr>
								}
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
